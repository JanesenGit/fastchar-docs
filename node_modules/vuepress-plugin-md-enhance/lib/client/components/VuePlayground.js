import{deepAssign as V}from"@vuepress/helper/client";import{defineComponent as h,ref as w,shallowRef as n,computed as U,onMounted as S,h as r,version as C}from"vue";import{LoadingIcon as I}from"vuepress-shared/client";import"@vue/repl/style.css";import"../styles/vue-playground.scss";import{u as M}from"../vuePlayground-CO_YI934.js";const b=e=>JSON.parse(decodeURIComponent(e));var O=h({name:"VuePlayground",props:{title:{type:String,default:""},files:{type:String,required:!0},settings:{type:String,default:"{}"}},setup(e){const{vueVersion:t=C,vueRuntimeDevUrl:l=`https://unpkg.com/@vue/runtime-dom@${t}/dist/runtime-dom.esm-browser.js`,vueRuntimeProdUrl:a=`https://unpkg.com/@vue/runtime-dom@${t}/dist/runtime-dom.esm-browser.prod.js`,vueServerRendererUrl:p=`https://unpkg.com/@vue/server-renderer@${t}/dist/server-renderer.esm-browser.js`,...d}=M(),u=w(!0),o=n(),s=n(),i=n(),m=U(()=>V({},d,b(e.settings))),v=async()=>{const[{useStore:g,useVueImportMap:c,Repl:f},{default:y}]=await Promise.all([import("@vue/repl"),VUE_PLAYGROUND_MONACO?import("@vue/repl/monaco-editor"):import("@vue/repl/codemirror-editor")]);o.value=f,i.value=y;const{importMap:R,vueVersion:P}=c({runtimeDev:l,runtimeProd:a,serverRenderer:p});s.value=g({builtinImportMap:R,vueVersion:P},decodeURIComponent(e.files))};return S(async()=>{await v(),u.value=!1}),()=>[r("div",{class:"vue-playground-wrapper"},[e.title?r("div",{class:"header"},decodeURIComponent(e.title)):null,r("div",{class:"repl-container"},[u.value?r(I,{class:"preview-loading",height:192}):null,o.value?r(o.value,{...m.value,editor:i.value,store:s.value}):null])])]}});export{O as default};
//# sourceMappingURL=VuePlayground.js.map
