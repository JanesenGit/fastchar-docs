"use strict";var f=require("node:module"),v=require("@mdit/plugin-tex"),S=require("upath"),j=typeof document<"u"?document.currentScript:null;const t=f.createRequire(typeof document>"u"?require("url").pathToFileURL(__filename).href:j&&j.src||new URL("index.cjs",document.baseURI).href),p=e=>{try{const{AllPackages:a}=t("mathjax-full/js/input/tex/AllPackages.js"),{TeX:n}=t("mathjax-full/js/input/tex.js"),{CHTML:l}=t("mathjax-full/js/output/chtml.js"),{SVG:s}=t("mathjax-full/js/output/svg.js");return{InputJax:new n({packages:a,...e.tex}),OutputJax:e.output==="chtml"?new l({fontURL:S.dirname(t.resolve("mathjax-full/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff")),adaptiveCSS:!0,...e.chtml}):new s({fontCache:"none",...e.svg}),enableAssistiveMml:e.a11y!==!1}}catch{return console.error('[@mdit/mathjax] "mathjax-full" is not installed!'),null}},w=(e={})=>{const a=p(e);if(!a)return null;const{OutputJax:n,InputJax:l}=a,{CHTML:s}=t("mathjax-full/js/output/chtml.js"),r=t("mathjax-full/js/adaptors/liteAdaptor.js").liteAdaptor(),m=t("mathjax-full/js/handlers/html.js").RegisterHTMLHandler,i=t("mathjax-full/js/a11y/assistive-mml.js").AssistiveMmlHandler,{mathjax:u}=t("mathjax-full/js/mathjax.js"),h=m(r);e.a11y!==!1&&i(h);const o=()=>{n instanceof s&&n.clearCache()},c=()=>{l.reset()},x=()=>{const d=r.innerHTML(n.styleSheet(u.document("",a)));return o(),d};return{adaptor:r,documentOptions:a,allowInlineWithSpace:e.allowInlineWithSpace??!1,mathFence:e.mathFence??!1,clearStyle:o,reset:c,outputStyle:x,vPre:e.vPre??!1}},y=(e,a)=>{const{mathjax:n}=t("mathjax-full/js/mathjax.js"),{allowInlineWithSpace:l,adaptor:s,documentOptions:r,mathFence:m,vPre:i}=a;e.use(v.tex,{allowInlineWithSpace:l,mathFence:m,render:(u,h)=>{const o=n.document(u,r).convert(u,{display:h}),c=s.outerHTML(o);return i?c.replace(/^<mjx-container/,"<mjx-container v-pre"):c}})};exports.createMathjaxInstance=w,exports.getDocumentOptions=p,exports.mathjax=y;
//# sourceMappingURL=index.cjs.map
