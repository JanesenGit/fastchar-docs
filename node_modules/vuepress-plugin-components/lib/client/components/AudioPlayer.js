import{defineComponent as a,shallowRef as p,onMounted as n,onBeforeMount as s,h as o}from"vue";import"plyr/dist/plyr.css";import"../styles/audio-player.scss";import{g as r}from"../getLink-DBmDl_2w.js";import"@vuepress/helper/client";import"vuepress/client";var d=a({name:"AudioPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:""},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(t){let e=null;const i=p();return n(async()=>{const{default:l}=await import("plyr");e=new l(i.value,{hideYouTubeDOMError:!0,...t.options})}),s(()=>{try{e?.destroy()}catch{}}),()=>o("div",{class:"vp-audio-player",style:{width:t.width}},[o("a",{class:"sr-only",href:r(t.src),innerHTML:t.title||"An audio"}),t.poster?o("img",{class:"vp-audio-player-poster",src:r(t.poster),loading:"lazy","no-view":""}):null,o("div",{class:"vp-audio-player-info"},[t.title?o("div",{class:"vp-audio-player-title",innerHTML:t.title}):null,o("audio",{ref:i,crossorigin:"anonymous",preload:"metadata",controls:"",...t.loop?{loop:""}:{}},o("source",{src:r(t.src),type:t.type}))])])}});export{d as default};
//# sourceMappingURL=AudioPlayer.js.map
